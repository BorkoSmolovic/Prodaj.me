{"remainingRequest":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/babel-loader/lib/index.js!/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/src/components/UserUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/src/components/UserUpdate.vue","mtime":1632660448718},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZVVzZXIiLAogIHByb3BzOiB7CiAgICB1c2VyOiBudWxsLAogICAgZGlhbG9nOiBudWxsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGlkOiAiIiwKICAgICAgZmlyc3ROYW1lOiAiIiwKICAgICAgbGFzdE5hbWU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgY29uZmlybVBhc3N3b3JkOiAiIiwKICAgICAgc2hvdzE6IGZhbHNlLAogICAgICB2ZXJpZnk6ICIiLAogICAgICByZWdpc3RyYXRpb25Mb2FkaW5nOiBmYWxzZSwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGVtYWlsUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIk9iYXZlem5vIHBvbGplIjsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAiRS1tYWlsIG1vcmEgYml0aSB2YWxpZGFuIjsKICAgICAgfV0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uIHJlcXVpcmVkKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gISF2YWx1ZSB8fCAiT2JhdmV6bm8gcG9samUiOwogICAgICAgIH0sCiAgICAgICAgbWluOiBmdW5jdGlvbiBtaW4odikgewogICAgICAgICAgcmV0dXJuICF2IHx8IHYubGVuZ3RoIDwgMSB8fCB2Lmxlbmd0aCA+PSA4IHx8ICJNaW5pbXVtIDgga2FyYWt0ZXJhIjsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcGFzc3dvcmRNYXRjaDogZnVuY3Rpb24gcGFzc3dvcmRNYXRjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICFfdGhpcy5wYXNzd29yZCB8fCBfdGhpcy5wYXNzd29yZC5sZW5ndGggPj0gMSB8fCBfdGhpcy5wYXNzd29yZCA9PT0gX3RoaXMudmVyaWZ5IHx8ICLFoGlmcmUgc2UgbW9yYWp1IHBvZHVkYXJhdGkiOwogICAgICB9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlVXNlcjogZnVuY3Rpb24gdXBkYXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgdXNlciA9IHRoaXMudXNlcjsKCiAgICAgIGlmICh0aGlzLiRyZWZzLnVwZGF0ZVVzZXJGb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmZpcnN0TmFtZSwKICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLmxhc3ROYW1lLAogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIGFjdGl2ZTogdXNlci5hY3RpdmUKICAgICAgICB9OwoKICAgICAgICBpZiAoIWRhdGEucGFzc3dvcmQgfHwgZGF0YS5wYXNzd29yZC5sZW5ndGggPCA4KSB7CiAgICAgICAgICBkYXRhLnBhc3N3b3JkID0gdXNlci5wYXNzd29yZDsKICAgICAgICB9CgogICAgICAgIGF4aW9zLnB1dCgiL2FwaS91c2VyL2VkaXQvIiArIHRoaXMuaWQsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmlkKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aXRsZTogIlVzcGplxaFuZSBpem1qZW5lISIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJQb3R2cmRpIiwKICAgICAgICAgICAgICB0aW1lcjogMTUwMAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMi4kZW1pdCgidXBkYXRlIik7CgogICAgICAgICAgICBfdGhpczIuY2xvc2VEaWFsb2coKTsKCiAgICAgICAgICAgIF90aGlzMi5jbGVhckZvcm0oKTsKCiAgICAgICAgICAgIF90aGlzMi4kcmVmcy51cGRhdGVVc2VyRm9ybS5yZXNldCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgY2xlYXJGb3JtOiBmdW5jdGlvbiBjbGVhckZvcm0oKSB7CiAgICAgIHRoaXMuZmlyc3ROYW1lID0gIiI7CiAgICAgIHRoaXMubGFzdE5hbWUgPSAiIjsKICAgICAgdGhpcy5lbWFpbCA9ICIiOwogICAgICB0aGlzLnBhc3N3b3JkID0gIiI7CiAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkID0gIiI7CiAgICB9LAogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZURpYWxvZyIpOwogICAgICB0aGlzLmNsZWFyRm9ybSgpOwogICAgICB0aGlzLiRyZWZzLnVwZGF0ZVVzZXJGb3JtLnJlc2V0KCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nOiBmdW5jdGlvbiBkaWFsb2codmFsKSB7CiAgICAgIHZhbDsKICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXI7CiAgICAgIGNvbnNvbGUubG9nKCJ1c2VyIiwgdXNlcik7CiAgICAgIHRoaXMuaWQgPSB1c2VyLmlkOwogICAgICB0aGlzLmZpcnN0TmFtZSA9IHVzZXIuZmlyc3ROYW1lOwogICAgICB0aGlzLmxhc3ROYW1lID0gdXNlci5sYXN0TmFtZTsKICAgICAgdGhpcy5lbWFpbCA9IHVzZXIuZW1haWw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["UserUpdate.vue"],"names":[],"mappings":"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","sourcesContent":["\n\n\n<template>\n  <v-app>\n    <v-row justify=\"center\" data-app>\n      <v-dialog v-if=\"dialog\" v-model=\"dialog\" persistent max-width=\"650px\">\n        <v-card>\n          <v-card-title>\n            <span class=\"headline\">Izmijeni korisničke podatke</span>\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-form ref=\"updateUserForm\" v-model=\"valid\" lazy-validation>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field\n                      v-model=\"firstName\"\n                      :rules=\"[rules.required]\"\n                      label=\"*Ime\"\n                      maxlength=\"20\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field\n                      v-model=\"lastName\"\n                      :rules=\"[rules.required]\"\n                      label=\"*Prezime\"\n                      maxlength=\"20\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"email\"\n                      :rules=\"emailRules\"\n                      label=\"*E-mail\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"password\"\n                      :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                      :rules=\"[rules.min]\"\n                      :type=\"show1 ? 'text' : 'password'\"\n                      name=\"input-10-1\"\n                      label=\"*Nova šifra\"\n                      hint=\"At least 8 characters\"\n                      counter\n                      @click:append=\"show1 = !show1\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      block\n                      v-model=\"verify\"\n                      :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                      :rules=\"[passwordMatch]\"\n                      :type=\"show1 ? 'text' : 'password'\"\n                      name=\"input-10-1\"\n                      label=\"*Potvrdite novu šifru\"\n                      counter\n                      @click:append=\"show1 = !show1\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-spacer></v-spacer>\n                  <v-col class=\"d-flex ml-auto\" cols=\"12\" sm=\"3\" xsm=\"12\">\n                  </v-col>\n                </v-row>\n              </v-form>\n            </v-container>\n            <small>*označava obavezno polje</small>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" text @click=\"closeDialog\">\n              Zatvori\n            </v-btn>\n            <v-btn\n              color=\"blue darken-1\"\n              text\n              @click=\"updateUser\"\n              :loading=\"registrationLoading\"\n            >\n              Izmijeni</v-btn\n            >\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n  </v-app>\n</template>\n\n<script>\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"UpdateUser\",\n  props: {\n    user:null,\n    dialog: null,\n  },\n  data: () => ({\n    loading: false,\n    id: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    show1: false,\n    verify: \"\",\n    registrationLoading: false,\n    valid: true,\n    emailRules: [\n      (v) => !!v || \"Obavezno polje\",\n      (v) => /.+@.+\\..+/.test(v) || \"E-mail mora biti validan\",\n    ],\n    rules: {\n      required: (value) => !!value || \"Obavezno polje\",\n      min: (v) => (!v || v.length <1  || v.length >= 8) || \"Minimum 8 karaktera\",\n    },\n  }),\n  computed: {\n    passwordMatch() {\n      return () =>\n          !this.password || this.password.length>=1 || this.password === this.verify || \"Šifre se moraju podudarati\"; \n    },\n  },\n  methods: {\n    updateUser() {\n      this.loading = true;\n      let user = this.user;\n      if (this.$refs.updateUserForm.validate()) {\n        const data = {\n          id: this.id,\n          firstName: this.firstName,\n          lastName: this.lastName,\n          email: this.email,\n          password: this.password,\n          active: user.active,\n        };\n        if(!data.password || data.password.length < 8){\n         data.password = user.password;\n        }\n        axios.put(\"/api/user/edit/\" + this.id, data).then((response) => {\n          this.loading = false;\n          if (response.data.id) {\n            localStorage.setItem(\"user\",JSON.stringify(response.data));\n            Swal.fire({\n              icon: \"success\",\n              title: \"Uspješne izmjene!\",\n              showConfirmButton: true,\n              confirmButtonText: \"Potvrdi\",\n              timer: 1500,\n            });\n            this.$emit(\"update\");\n            this.closeDialog();\n            this.clearForm();\n            this.$refs.updateUserForm.reset();\n          }\n        });\n      } else {\n        this.loading = false;\n      }\n    },\n    clearForm() {\n      this.firstName = \"\";\n      this.lastName = \"\";\n      this.email = \"\";\n      this.password = \"\";\n      this.confirmPassword = \"\";\n    },\n    closeDialog() {\n      this.$emit(\"closeDialog\");\n      this.clearForm();\n      this.$refs.updateUserForm.reset();\n    },\n  },\n  watch: {\n    dialog: function (val) {\n      val;\n      let user = this.user;\n      console.log(\"user\", user);\n      this.id = user.id;\n      this.firstName = user.firstName;\n      this.lastName = user.lastName;\n      this.email = user.email;\n    },\n  },\n};\n</script>"],"sourceRoot":"src/components"}]}