{"remainingRequest":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/src/components/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/src/components/Dashboard.vue","mtime":1614597719816},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/borkosmolovic/Desktop/Jovan/sample/src/main/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBBZGRBZCBmcm9tICJAL2NvbXBvbmVudHMvQWRkQWQudnVlIjsKaW1wb3J0IERldGFpbHNBZCBmcm9tICJAL2NvbXBvbmVudHMvRGV0YWlsc0FkLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGFzaGJvYXJkIiwKICBjb21wb25lbnRzOiB7CiAgICBBZGRBZCwKICAgIERldGFpbHNBZCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVuZWRBZDogbnVsbCwKICAgICAgZGlhbG9nRGV0YWlsczogZmFsc2UsCiAgICAgIGxvZ2dlZElkOiAtMSwKICAgICAgZGlhbG9nQWRkOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHVzZXJzOiBbXSwKICAgICAgbnVtYmVyT2ZVc2VyczogMCwKICAgICAgYWRzOiBbXSwKICAgICAgZmlsdGVyZWRBZHM6IFtdLAogICAgICB0eXBlczogW10sCiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICBjaXRpZXM6IFtdLAogICAgICBzZWFyY2hUZXh0OiAiIiwKICAgICAgc2VhcmNoQ2F0ZWdvcnlJZDogIiIsCiAgICAgIHNlYXJjaENpdHlJZDogIiIsCiAgICAgIHNlYXJjaFR5cGVJZDogIiIsCiAgICAgIHNlYXJjaE93bmVySWQ6ICIiLAogICAgICBzdGF0dXNJZDogIiIsCiAgICAgIHByaWNlRnJvbTogMCwKICAgICAgcHJpY2VUbzogOTk5OTksCiAgICAgIHByaWNlUmFuZ2U6IFswLCA5OTk5OV0sCiAgICAgIGluaXRpYWxMb2FkOiB0cnVlLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBhZHM6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgaWYgKHZhbC5sZW5ndGggPiAwICYmIHRoaXMuaW5pdGlhbExvYWQpIHsKICAgICAgICB0aGlzLmNhbGN1bGF0ZVByaWNlUmFuZ2UoKTsKICAgICAgICB0aGlzLmluaXRpYWxMb2FkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICB0ZXN0KCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBpZDogMSwKICAgICAgICBuYW1lOiAiUHJvZGFqZW0gYXV0byBpem1pamVuamVubyIsCiAgICAgICAgZGVzY3JpcHRpb246CiAgICAgICAgICAiTmEgcHJvZGFqdSBHT0xGIDcgR1RJLCAyMDIwIGdvZGlzdGUsIHUgb2RsacSNbm9tIHN0YW5qdS4gS2FvIG5vdiEiLAogICAgICAgIGNhdGVnb3J5SWQ6IDMsCiAgICAgICAgY2l0eUlkOiAxLAogICAgICAgIG93bmVySWQ6IDEsCiAgICAgICAgc3RhdHVzSWQ6IDEsCiAgICAgICAgdHlwZUlkOiAxLAogICAgICAgIHByaWNlOiAyMDAwMC4wLAogICAgICB9OwogICAgICBkYXRhOwogICAgICBheGlvcwogICAgICAgIC5kZWxldGUoIi9hcGkvYWQvZGVsZXRlLzEiKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coInVzcGplc25vIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZ3Jlc2thIiwgZXJyb3IuZGF0YSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2FsY3VsYXRlUHJpY2VSYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuYWRzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnByaWNlRnJvbSA9IE1hdGguZmxvb3IocGFyc2VGbG9hdCh0aGlzLmFkc1swXS5wcmljZSkpOwogICAgICAgIHRoaXMucHJpY2VUbyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHRoaXMuYWRzWzBdLnByaWNlKSk7CiAgICAgICAgdGhpcy5wcmljZVJhbmdlID0gWwogICAgICAgICAgTWF0aC5mbG9vcihwYXJzZUZsb2F0KHRoaXMuYWRzWzBdLnByaWNlKSksCiAgICAgICAgICBNYXRoLmNlaWwocGFyc2VGbG9hdCh0aGlzLmFkc1swXS5wcmljZSkpLAogICAgICAgIF07CiAgICAgIH0KICAgICAgdGhpcy5hZHMuZm9yRWFjaCgoYWQpID0+IHsKICAgICAgICBpZiAocGFyc2VGbG9hdChhZC5wcmljZSkgPCB0aGlzLnByaWNlRnJvbSkgewogICAgICAgICAgdGhpcy5wcmljZUZyb20gPSBNYXRoLmZsb29yKHBhcnNlRmxvYXQoYWQucHJpY2UpKTsKICAgICAgICAgIHRoaXMucHJpY2VSYW5nZVswXSA9IE1hdGguZmxvb3IocGFyc2VGbG9hdChhZC5wcmljZSkpOwogICAgICAgIH0KICAgICAgICBpZiAocGFyc2VGbG9hdChhZC5wcmljZSkgPiB0aGlzLnByaWNlVG8pIHsKICAgICAgICAgIHRoaXMucHJpY2VUbyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KGFkLnByaWNlKSk7CiAgICAgICAgICB0aGlzLnByaWNlUmFuZ2VbMV0gPSBNYXRoLmNlaWwocGFyc2VGbG9hdChhZC5wcmljZSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb3BlbkRldGFpbHNEaWFsb2coYWQpIHsKICAgICAgdGhpcy5vcGVuZWRBZCA9IGFkOwogICAgICB0aGlzLmRpYWxvZ0RldGFpbHMgPSB0cnVlOwogICAgfSwKICAgIG9uUHVzaCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5nZXRBZHMoKTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgb25FZGl0KG5ld0FkKSB7CiAgICAgIHRoaXMuZ2V0QWRzKCk7CiAgICAgIHRoaXMub3BlbmVkQWQgID0gbmV3QWQKICAgICAgdGhpcy5hZHMuZm9yRWFjaChhZCA9PiB7CiAgICAgICAgaWYoYWQuaWQgPT0gbmV3QWQuaWQpewogICAgICAgICAgdGhpcy5vcGVuZWRBZC51c2VyID0gYWQudXNlcgogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBvbkRlbGV0ZShuZXdBZCkgewogICAgICBjb25zb2xlLmxvZyhuZXdBZCkKICAgICAgdGhpcy5nZXRBZHMoKTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBzZWFyY2goKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZmlsdGVyZWRBZHMgPSBbXTsKICAgICAgdGhpcy5maWx0ZXJlZEFkcyA9IHRoaXMuYWRzLmZpbHRlcigoYWQpID0+IHsKICAgICAgICBsZXQgZm91bmRUZXh0ID0gZmFsc2U7CiAgICAgICAgbGV0IGZvdW5kQ2F0ZWdvcnkgPSBmYWxzZTsKICAgICAgICBsZXQgZm91bmRUeXBlID0gZmFsc2U7CiAgICAgICAgbGV0IGZvdW5kQ2l0eSA9IGZhbHNlOwogICAgICAgIGxldCBmb3VuZFByaWNlID0gZmFsc2U7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgaWYgKAogICAgICAgICAgYWQubmFtZS50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoVGV4dC50b1VwcGVyQ2FzZSgpKSB8fAogICAgICAgICAgYWQuZGVzY3JpcHRpb24udG9VcHBlckNhc2UoKS5pbmNsdWRlcyh0aGlzLnNlYXJjaFRleHQudG9VcHBlckNhc2UoKSkKICAgICAgICApIHsKICAgICAgICAgIGZvdW5kVGV4dCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICgKICAgICAgICAgIHRoaXMuc2VhcmNoQ2F0ZWdvcnlJZCA/IGFkLmNhdGVnb3J5SWQgPT0gdGhpcy5zZWFyY2hDYXRlZ29yeUlkIDogdHJ1ZQogICAgICAgICkgewogICAgICAgICAgZm91bmRDYXRlZ29yeSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnNlYXJjaENpdHlJZCA/IGFkLmNpdHlJZCA9PSB0aGlzLnNlYXJjaENpdHlJZCA6IHRydWUpIHsKICAgICAgICAgIGZvdW5kQ2l0eSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnNlYXJjaFR5cGVJZCA/IGFkLnR5cGVJZCA9PSB0aGlzLnNlYXJjaFR5cGVJZCA6IHRydWUpIHsKICAgICAgICAgIGZvdW5kVHlwZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChhZC5wcmljZSA+PSB0aGlzLnByaWNlUmFuZ2VbMF0gJiYgYWQucHJpY2UgPD0gdGhpcy5wcmljZVJhbmdlWzFdKSB7CiAgICAgICAgICBmb3VuZFByaWNlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKAogICAgICAgICAgZm91bmRUZXh0ICYmCiAgICAgICAgICBmb3VuZENhdGVnb3J5ICYmCiAgICAgICAgICBmb3VuZFR5cGUgJiYKICAgICAgICAgIGZvdW5kQ2l0eSAmJgogICAgICAgICAgZm91bmRQcmljZQogICAgICAgICkgewogICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICB9LAogICAgZ2V0QWRzKCkgewogICAgICBheGlvcy5nZXQoIi9hcGkvYWRzIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmFkcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5maWx0ZXJlZEFkcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcmljZVJhbmdlKCk7CiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VHlwZXMoKSB7CiAgICAgIGF4aW9zLmdldCgiL2FwaS90eXBlcyIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy50eXBlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENhdGVnb3JpZXMoKSB7CiAgICAgIGF4aW9zLmdldCgiL2FwaS9jYXRlZ29yaWVzIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDaXRpZXMoKSB7CiAgICAgIGF4aW9zLmdldCgiL2FwaS9jaXRpZXMiKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuY2l0aWVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0QWRzKCk7CiAgICB0aGlzLmdldFR5cGVzKCk7CiAgICB0aGlzLmdldENhdGVnb3JpZXMoKTsKICAgIHRoaXMuZ2V0Q2l0aWVzKCk7CiAgICBsZXQgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXIiKSk7CiAgICBpZiAodXNlciAhPSBudWxsKSB7CiAgICAgIHRoaXMubG9nZ2VkSWQgPSB1c2VyLmlkOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container fluid grid-list-md class=\"\">\n    <v-row class=\"py-4 primary lighten-4\">\n      <v-col cols=\"6\">\n        <v-row>\n          <v-col cols=\"3\">\n            <v-text-field\n              label=\"Pretraga\"\n              hint=\"Pretraga\"\n              solo\n              @input=\"search\"\n              v-model=\"searchText\"\n              hide-details\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-select\n              @change=\"search\"\n              :items=\"categories\"\n              v-model=\"searchCategoryId\"\n              label=\"Kategorija\"\n              item-text=\"name\"\n              item-value=\"id\"\n              single-line\n              clearable\n              hide-details\n              solo\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-select\n              @change=\"search\"\n              :items=\"types\"\n              v-model=\"searchTypeId\"\n              label=\"Tip oglasa\"\n              item-text=\"name\"\n              item-value=\"id\"\n              single-line\n              clearable\n              hide-details\n              solo\n            ></v-select\n          ></v-col>\n          <v-col cols=\"3\">\n            <v-select\n              @change=\"search\"\n              :items=\"cities\"\n              v-model=\"searchCityId\"\n              label=\"Grad\"\n              item-text=\"name\"\n              item-value=\"id\"\n              single-line\n              clearable\n              hide-details\n              solo\n            ></v-select\n          ></v-col>\n        </v-row>\n      </v-col>\n      <v-col cols=\"3\">\n        <v-range-slider\n          @change=\"search\"\n          v-model=\"priceRange\"\n          :max=\"priceTo\"\n          :min=\"priceFrom\"\n          hide-details\n          class=\"align-center\"\n        >\n          <template v-slot:prepend>\n            <v-text-field\n              :value=\"priceRange[0]\"\n              class=\"mt-0 pt-0\"\n              hide-details\n              single-line\n              type=\"number\"\n              style=\"width: 60px\"\n              @change=\"\n                $set(priceRange, 0, $event);\n                search;\n              \"\n              @keypress=\"search\"\n            ></v-text-field>\n          </template>\n          <template v-slot:append>\n            <v-text-field\n              :value=\"priceRange[1]\"\n              class=\"mt-0 pt-0\"\n              hide-details\n              single-line\n              type=\"number\"\n              style=\"width: 60px\"\n              @change=\"$set(priceRange, 1, $event)\"\n              @keypress=\"search\"\n            ></v-text-field>\n          </template>\n        </v-range-slider>\n      </v-col>\n      <v-col cols=\"3\" class=\"pl-15\">\n        <!-- <v-btn @click=\"test\" text class=\"success\">Skepta</v-btn> -->\n        <v-btn @click=\"dialogAdd = true\" text class=\"success\">Novi oglas</v-btn>\n        <v-btn @click=\"logout\" text class=\"error mx-6\"> Odjavi se</v-btn>\n      </v-col>\n    </v-row>\n\n    <v-layout row wrap class=\"pb-5\" v-if=\"!loading\">\n      <v-col\n        cols=\"3\"\n        v-for=\"ad in filteredAds\"\n        :key=\"ad.id\"\n        @click=\"openDetailsDialog(ad)\"\n      >\n        <v-card max-width=\"375\" class=\"mb-3 ml-3 mt-3\">\n          <v-img\n            src=\"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg\"\n            height=\"200px\"\n          ></v-img>\n\n          <v-card-title\n            :class=\"{ success: ad.owner == 1, danger: ad.owner != 1 }\"\n          >\n            {{ ad.name }}\n          </v-card-title>\n\n          <v-card-subtitle>\n            {{ cities[ad.cityId - 1] ? cities[ad.cityId - 1].name : \"\" }}\n          </v-card-subtitle>\n\n          <v-card-actions>\n            <v-spacer />\n            <h4>\n              <b>{{ ad.price }}€</b>\n            </h4>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-layout>\n    <AddAd\n      :dialog=\"dialogAdd\"\n      :cities=\"cities\"\n      :categories=\"categories\"\n      :types=\"types\"\n      @closeDialog=\"dialogAdd = false\"\n      @loading=\"loading = $event\"\n      @push=\"onPush($event)\"\n    />\n    <DetailsAd\n      :dialog=\"dialogDetails\"\n      :cities=\"cities\"\n      :categories=\"categories\"\n      :types=\"types\"\n      :ad=\"openedAd\"\n      @closeDialog=\"dialogDetails = false\"\n      @loading=\"loading = $event\"\n      @edit=\"onEdit($event)\"\n      @delete=\"onDelete($event)\"\n    />\n  </v-container>\n</template>\n<script>\nimport axios from \"axios\";\nimport AddAd from \"@/components/AddAd.vue\";\nimport DetailsAd from \"@/components/DetailsAd.vue\";\nexport default {\n  name: \"Dashboard\",\n  components: {\n    AddAd,\n    DetailsAd,\n  },\n  data() {\n    return {\n      openedAd: null,\n      dialogDetails: false,\n      loggedId: -1,\n      dialogAdd: false,\n      loading: false,\n      users: [],\n      numberOfUsers: 0,\n      ads: [],\n      filteredAds: [],\n      types: [],\n      categories: [],\n      cities: [],\n      searchText: \"\",\n      searchCategoryId: \"\",\n      searchCityId: \"\",\n      searchTypeId: \"\",\n      searchOwnerId: \"\",\n      statusId: \"\",\n      priceFrom: 0,\n      priceTo: 99999,\n      priceRange: [0, 99999],\n      initialLoad: true,\n    };\n  },\n  watch: {\n    ads: function (val) {\n      if (val.length > 0 && this.initialLoad) {\n        this.calculatePriceRange();\n        this.initialLoad = false;\n      }\n    },\n  },\n  methods: {\n    test() {\n      let data = {\n        id: 1,\n        name: \"Prodajem auto izmijenjeno\",\n        description:\n          \"Na prodaju GOLF 7 GTI, 2020 godiste, u odličnom stanju. Kao nov!\",\n        categoryId: 3,\n        cityId: 1,\n        ownerId: 1,\n        statusId: 1,\n        typeId: 1,\n        price: 20000.0,\n      };\n      data;\n      axios\n        .delete(\"/api/ad/delete/1\")\n        .then((response) => {\n          console.log(\"uspjesno\", response.data);\n        })\n        .catch((error) => {\n          console.log(\"greska\", error.data);\n        });\n    },\n    calculatePriceRange() {\n      if (this.ads.length > 0) {\n        this.priceFrom = Math.floor(parseFloat(this.ads[0].price));\n        this.priceTo = Math.ceil(parseFloat(this.ads[0].price));\n        this.priceRange = [\n          Math.floor(parseFloat(this.ads[0].price)),\n          Math.ceil(parseFloat(this.ads[0].price)),\n        ];\n      }\n      this.ads.forEach((ad) => {\n        if (parseFloat(ad.price) < this.priceFrom) {\n          this.priceFrom = Math.floor(parseFloat(ad.price));\n          this.priceRange[0] = Math.floor(parseFloat(ad.price));\n        }\n        if (parseFloat(ad.price) > this.priceTo) {\n          this.priceTo = Math.ceil(parseFloat(ad.price));\n          this.priceRange[1] = Math.ceil(parseFloat(ad.price));\n        }\n      });\n    },\n    openDetailsDialog(ad) {\n      this.openedAd = ad;\n      this.dialogDetails = true;\n    },\n    onPush() {\n      this.loading = true;\n      this.getAds();\n      this.loading = false;\n    },\n    onEdit(newAd) {\n      this.getAds();\n      this.openedAd  = newAd\n      this.ads.forEach(ad => {\n        if(ad.id == newAd.id){\n          this.openedAd.user = ad.user\n        }\n      })\n      this.search();\n    },\n    onDelete(newAd) {\n      console.log(newAd)\n      this.getAds();\n      this.search();\n    },\n    search() {\n      this.loading = true;\n      this.filteredAds = [];\n      this.filteredAds = this.ads.filter((ad) => {\n        let foundText = false;\n        let foundCategory = false;\n        let foundType = false;\n        let foundCity = false;\n        let foundPrice = false;\n        let found = false;\n        if (\n          ad.name.toUpperCase().includes(this.searchText.toUpperCase()) ||\n          ad.description.toUpperCase().includes(this.searchText.toUpperCase())\n        ) {\n          foundText = true;\n        }\n        if (\n          this.searchCategoryId ? ad.categoryId == this.searchCategoryId : true\n        ) {\n          foundCategory = true;\n        }\n        if (this.searchCityId ? ad.cityId == this.searchCityId : true) {\n          foundCity = true;\n        }\n        if (this.searchTypeId ? ad.typeId == this.searchTypeId : true) {\n          foundType = true;\n        }\n        if (ad.price >= this.priceRange[0] && ad.price <= this.priceRange[1]) {\n          foundPrice = true;\n        }\n        if (\n          foundText &&\n          foundCategory &&\n          foundType &&\n          foundCity &&\n          foundPrice\n        ) {\n          found = true;\n        }\n        return found;\n      });\n      this.loading = false;\n    },\n    logout() {\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/\");\n    },\n    getAds() {\n      axios.get(\"/api/ads\").then((response) => {\n        this.ads = response.data;\n        this.filteredAds = response.data;\n        this.calculatePriceRange();\n        this.search();\n      });\n    },\n    getTypes() {\n      axios.get(\"/api/types\").then((response) => {\n        this.types = response.data;\n      });\n    },\n    getCategories() {\n      axios.get(\"/api/categories\").then((response) => {\n        this.categories = response.data;\n      });\n    },\n    getCities() {\n      axios.get(\"/api/cities\").then((response) => {\n        this.cities = response.data;\n      });\n    },\n  },\n  mounted() {},\n  created: function () {\n    this.getAds();\n    this.getTypes();\n    this.getCategories();\n    this.getCities();\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user != null) {\n      this.loggedId = user.id;\n    }\n  },\n};\n</script>"]}]}